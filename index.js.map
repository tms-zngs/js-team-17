{"version":3,"file":"index.js","sources":["../src/js/get-api.js","../src/js/header.js","../src/js/reviews.js","../src/js/work-together.js"],"sourcesContent":["import axios from 'axios';\n\nexport async function getResponse() {\n  const response = await axios('https://portfolio-js.b.goit.study/api/reviews');\n  return response.data;\n}\n","const themeToggle = document.getElementById(\"theme-toggle\");\nconst body = document.body;\n\nif (localStorage.getItem(\"theme\") === \"dark\") {\n    body.classList.add(\"dark-mode\");\n    themeToggle.checked = true;\n}\n\nfunction toggleTheme() {\n    if (themeToggle.checked) {\n        body.classList.add(\"dark-mode\");\n        localStorage.setItem(\"theme\", \"dark\");\n    } else {\n        body.classList.remove(\"dark-mode\");\n        localStorage.setItem(\"theme\", \"light\");\n    }\n}\n\nthemeToggle.addEventListener(\"change\", toggleTheme);\n\n// Лгика для моб.меню\n\n\n  const openBurgerBtn = document.querySelector('.burger-btn'); // первая кнопка для открытия\n  const modalOverlay = document.querySelector('.modal-overlay'); // сама модалка\n  const closeModalBtn = document.querySelector('.modal-btn'); // кнопка закрытия (крестик)\n\n  // Открыть модалку\n  openBurgerBtn.addEventListener('click', () => {\n    modalOverlay.classList.add('active');\n    document.body.style.overflow = 'hidden'; \n  });\n\n  // Закрыть закрытия\n  function closeModal() {\n    modalOverlay.classList.remove('active');\n    document.body.style.overflow = ''; \n  }\n\n  closeModalBtn.addEventListener('click', closeModal);\n\n  // Закрыть при клике на фон\n  modalOverlay.addEventListener('click', (event) => {\n    if (event.target === modalOverlay) {\n      closeModal();\n    }\n  });\n\n  //Закрыть На Ескейп\n  document.addEventListener('keydown', (event) => {\n    if (event.key === 'Escape' && modalOverlay.classList.contains('active')) {\n      closeModal();\n    }\n  });\n","import { getResponse } from './get-api';\nimport Swiper from 'swiper';\nimport { Navigation, Keyboard } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport '/css/reviews.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst list = document.querySelector('.swiper-wrapper');\nconst sectionReviews = document.querySelector('.section-reviews');\n\nlet reviewsData = null;\nlet hasRendered = false;\nlet hasError = false;\nlet errorNotified = false;\n\nconst fragment = document.createDocumentFragment();\n\ninitReviewsSection();\n\nasync function initReviewsSection() {\n  try {\n    reviewsData = await getResponse();\n  } catch (error) {\n    hasError = true;\n  } finally {\n    observer.observe(sectionReviews);\n  }\n}\n\nfunction createMarkup(arr) {\n  arr.forEach(({ _id, author, avatar_url, review }) => {\n    const markup = `\n      <li class=\"swiper-slide\" data-id=\"${_id}\">\n        <p class=\"reviews-item-text\">${review}</p>\n        <div class=\"container-reviews-author\">\n          <img class=\"reviews-item-img\" src=\"${avatar_url}\" alt=\"${author}\"/>\n          <h3 class=\"reviews-item-name\">${author}</h3>\n        </div>\n      </li>\n      `;\n    const temp = document.createElement('div');\n    temp.insertAdjacentHTML('beforeend', markup);\n    fragment.append(...temp.children);\n  });\n  list.append(fragment);\n}\n\nfunction initSwiper() {\n  new Swiper('.swiper', {\n    modules: [Navigation, Keyboard],\n    navigation: {\n      nextEl: '.swiper-button-next',\n      prevEl: '.swiper-button-prev',\n    },\n    spaceBetween: 32,\n    slidesPerView: 1,\n    slidesPerGroup: 1,\n    autoHeight: true,\n    breakpoints: {\n      1280: {\n        slidesPerView: 2,\n        spaceBetween: 32,\n      },\n    },\n    keyboard: {\n      enabled: true,\n      onlyInViewport: true,\n    },\n  });\n}\n\nconst options = {\n  root: null,\n  rootMargin: '1000px',\n  threshold: 0,\n};\nconst observer = new IntersectionObserver(handleLoad, options);\n\nfunction handleLoad(entries, observer) {\n  entries.forEach(entry => {\n    if (!entry.isIntersecting) return;\n\n    if (reviewsData && !hasRendered) {\n      hasRendered = true;\n      observer.unobserve(sectionReviews);\n      createMarkup(reviewsData);\n      initSwiper();\n    }\n\n    if (hasError && !errorNotified) {\n      errorNotified = true;\n      observer.unobserve(sectionReviews);\n      handleError();\n    }\n  });\n}\n\nfunction handleError() {\n  iziToast.info({\n    title: 'Info',\n    message: 'Reviews not found!',\n    position: 'topRight',\n    backgroundColor: 'beige',\n  });\n  list.innerHTML = `\n    <li class=\"swiper-slide\">\n    <h3 class=\"title-error\">\n      Oops! Looks like the reviews didn’t load. We’re working on it — please check back shortly!\n    </h3>\n    </li>`;\n  const btnPrev = document.querySelector('.swiper-button-prev');\n  const btnNext = document.querySelector('.swiper-button-next');\n  btnPrev.disabled = true;\n  btnNext.disabled = true;\n  btnPrev.style.opacity = 0.3;\n  btnNext.style.opacity = 0.3;\n  document.querySelector('.swiper-slide').style.maxWidth = '100%';\n}\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.getElementById('contact-form');\nconst successModal = document.getElementById('success-modal');\nconst closeModalBtn = document.querySelector('.close-modal');\n\nform.addEventListener('submit', async function (e) {\n  e.preventDefault();\n\n  const email = form.elements['form-email'].value.trim();\n  const message = form.elements['user-message'].value.trim();\n\n  try {\n    const response = await fetch('https://portfolio-js.b.goit.study/api/requests', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n            email: email,\n            comment: message\n        }),\n    });\n\n if (response.ok) {\n  openModal();\n  form.reset();\n} else {\n  iziToast.warning({\n    title: 'Warning',\n    message: 'Check the data and try again',\n    position: \"topRight\",\n    backgroundColor: \"#FFB81C\",\n    messageColor: \"#3B3D40\",\n    timeout: 5000,\n    progressBar: false,\n    close: true,\n    maxWidth: 400,\n    transitionIn: 'fadeInDown',\n    transitionOut: 'fadeOutUp',\n  });\n }\n} catch (error) {\n  iziToast.warning({\n    title: 'Network error',\n    message: 'Try again.',\n    position: \"topRight\",\n    backgroundColor: \"#FFB81C\",\n    messageColor: \"#3B3D40\",\n    timeout: 5000,\n    progressBar: false,\n    close: true,\n    transitionIn: 'fadeInDown',\n    transitionOut: 'fadeOutUp',\n  });\n    }\n    });\n\nfunction openModal() {\n  successModal.classList.add('is-open');\n  document.body.classList.add('modal-open');\n}\n\nfunction closeModal() {\n  successModal.classList.remove('is-open');\n  document.body.classList.remove('modal-open');\n}\n\ncloseModalBtn.addEventListener('click', closeModal);\n\nsuccessModal.addEventListener('click', function (e) {\n  if (e.target === successModal) {\n    closeModal();\n  }\n});\n\ndocument.addEventListener('keydown', function (e) {\n  if (e.key === 'Escape' && successModal.classList.contains('is-open')) {\n    closeModal();\n  }\n});\n"],"names":["getResponse","axios","themeToggle","body","toggleTheme","openBurgerBtn","modalOverlay","closeModalBtn","closeModal","event","list","sectionReviews","reviewsData","hasRendered","hasError","errorNotified","fragment","initReviewsSection","observer","createMarkup","arr","_id","author","avatar_url","review","markup","temp","initSwiper","Swiper","Navigation","Keyboard","options","handleLoad","entries","entry","handleError","iziToast","btnPrev","btnNext","form","successModal","email","message","openModal"],"mappings":"kxBAEO,eAAeA,GAAc,CAElC,OADiB,MAAMC,EAAM,+CAA+C,GAC5D,IAClB,CCLA,MAAMC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAO,SAAS,KAElB,aAAa,QAAQ,OAAO,IAAM,SAClCA,EAAK,UAAU,IAAI,WAAW,EAC9BD,EAAY,QAAU,IAG1B,SAASE,GAAc,CACfF,EAAY,SACZC,EAAK,UAAU,IAAI,WAAW,EAC9B,aAAa,QAAQ,QAAS,MAAM,IAEpCA,EAAK,UAAU,OAAO,WAAW,EACjC,aAAa,QAAQ,QAAS,OAAO,EAE7C,CAEAD,EAAY,iBAAiB,SAAUE,CAAW,EAKhD,MAAMC,EAAgB,SAAS,cAAc,aAAa,EACpDC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAgB,SAAS,cAAc,YAAY,EAGzDF,EAAc,iBAAiB,QAAS,IAAM,CAC5CC,EAAa,UAAU,IAAI,QAAQ,EACnC,SAAS,KAAK,MAAM,SAAW,QACnC,CAAG,EAGD,SAASE,GAAa,CACpBF,EAAa,UAAU,OAAO,QAAQ,EACtC,SAAS,KAAK,MAAM,SAAW,EAChC,CAEDC,EAAc,iBAAiB,QAASC,CAAU,EAGlDF,EAAa,iBAAiB,QAAUG,GAAU,CAC5CA,EAAM,SAAWH,GACnBE,GAEN,CAAG,EAGD,SAAS,iBAAiB,UAAYC,GAAU,CAC1CA,EAAM,MAAQ,UAAYH,EAAa,UAAU,SAAS,QAAQ,GACpEE,GAEN,CAAG,EC5CH,MAAME,EAAO,SAAS,cAAc,iBAAiB,EAC/CC,EAAiB,SAAS,cAAc,kBAAkB,EAEhE,IAAIC,EAAc,KACdC,EAAc,GACdC,EAAW,GACXC,EAAgB,GAEpB,MAAMC,EAAW,SAAS,yBAE1BC,IAEA,eAAeA,GAAqB,CAClC,GAAI,CACFL,EAAc,MAAMZ,GACrB,MAAe,CACdc,EAAW,EACf,QAAY,CACRI,EAAS,QAAQP,CAAc,CAChC,CACH,CAEA,SAASQ,EAAaC,EAAK,CACzBA,EAAI,QAAQ,CAAC,CAAE,IAAAC,EAAK,OAAAC,EAAQ,WAAAC,EAAY,OAAAC,KAAa,CACnD,MAAMC,EAAS;AAAA,0CACuBJ,CAAG;AAAA,uCACNG,CAAM;AAAA;AAAA,+CAEED,CAAU,UAAUD,CAAM;AAAA,0CAC/BA,CAAM;AAAA;AAAA;AAAA,QAItCI,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,mBAAmB,YAAaD,CAAM,EAC3CT,EAAS,OAAO,GAAGU,EAAK,QAAQ,CACpC,CAAG,EACDhB,EAAK,OAAOM,CAAQ,CACtB,CAEA,SAASW,GAAa,CACpB,IAAIC,EAAO,UAAW,CACpB,QAAS,CAACC,EAAYC,CAAQ,EAC9B,WAAY,CACV,OAAQ,sBACR,OAAQ,qBACT,EACD,aAAc,GACd,cAAe,EACf,eAAgB,EAChB,WAAY,GACZ,YAAa,CACX,KAAM,CACJ,cAAe,EACf,aAAc,EACf,CACF,EACD,SAAU,CACR,QAAS,GACT,eAAgB,EACjB,CACL,CAAG,CACH,CAEA,MAAMC,EAAU,CACd,KAAM,KACN,WAAY,SACZ,UAAW,CACb,EACMb,EAAW,IAAI,qBAAqBc,EAAYD,CAAO,EAE7D,SAASC,EAAWC,EAASf,EAAU,CACrCe,EAAQ,QAAQC,GAAS,CAClBA,EAAM,iBAEPtB,GAAe,CAACC,IAClBA,EAAc,GACdK,EAAS,UAAUP,CAAc,EACjCQ,EAAaP,CAAW,EACxBe,KAGEb,GAAY,CAACC,IACfA,EAAgB,GAChBG,EAAS,UAAUP,CAAc,EACjCwB,KAEN,CAAG,CACH,CAEA,SAASA,GAAc,CACrBC,EAAS,KAAK,CACZ,MAAO,OACP,QAAS,qBACT,SAAU,WACV,gBAAiB,OACrB,CAAG,EACD1B,EAAK,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA,WAMjB,MAAM2B,EAAU,SAAS,cAAc,qBAAqB,EACtDC,EAAU,SAAS,cAAc,qBAAqB,EAC5DD,EAAQ,SAAW,GACnBC,EAAQ,SAAW,GACnBD,EAAQ,MAAM,QAAU,GACxBC,EAAQ,MAAM,QAAU,GACxB,SAAS,cAAc,eAAe,EAAE,MAAM,SAAW,MAC3D,CCpHA,MAAMC,EAAO,SAAS,eAAe,cAAc,EAC7CC,EAAe,SAAS,eAAe,eAAe,EACtDjC,EAAgB,SAAS,cAAc,cAAc,EAE3DgC,EAAK,iBAAiB,SAAU,eAAgB,EAAG,CACjD,EAAE,eAAc,EAEhB,MAAME,EAAQF,EAAK,SAAS,YAAY,EAAE,MAAM,OAC1CG,EAAUH,EAAK,SAAS,cAAc,EAAE,MAAM,OAEpD,GAAI,EACe,MAAM,MAAM,iDAAkD,CAC7E,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAoB,EAC7C,KAAM,KAAK,UAAU,CACjB,MAAOE,EACP,QAASC,CACrB,CAAS,CACT,CAAK,GAES,IACZC,IACAJ,EAAK,MAAK,GAEVH,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,+BACT,SAAU,WACV,gBAAiB,UACjB,aAAc,UACd,QAAS,IACT,YAAa,GACb,MAAO,GACP,SAAU,IACV,aAAc,aACd,cAAe,WACnB,CAAG,CAEH,MAAgB,CACdA,EAAS,QAAQ,CACf,MAAO,gBACP,QAAS,aACT,SAAU,WACV,gBAAiB,UACjB,aAAc,UACd,QAAS,IACT,YAAa,GACb,MAAO,GACP,aAAc,aACd,cAAe,WACnB,CAAG,CACE,CACL,CAAK,EAEL,SAASO,GAAY,CACnBH,EAAa,UAAU,IAAI,SAAS,EACpC,SAAS,KAAK,UAAU,IAAI,YAAY,CAC1C,CAEA,SAAShC,GAAa,CACpBgC,EAAa,UAAU,OAAO,SAAS,EACvC,SAAS,KAAK,UAAU,OAAO,YAAY,CAC7C,CAEAjC,EAAc,iBAAiB,QAASC,CAAU,EAElDgC,EAAa,iBAAiB,QAAS,SAAU,EAAG,CAC9C,EAAE,SAAWA,GACfhC,GAEJ,CAAC,EAED,SAAS,iBAAiB,UAAW,SAAU,EAAG,CAC5C,EAAE,MAAQ,UAAYgC,EAAa,UAAU,SAAS,SAAS,GACjEhC,GAEJ,CAAC"}