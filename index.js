import{a as P,A as M,i as y,S as C,N as j,K as $}from"./assets/vendor-BgWgrTJC.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}})();async function x(){return(await P("https://portfolio-js.b.goit.study/api/reviews")).data}const w=document.getElementById("theme-toggle"),v=document.body;localStorage.getItem("theme")==="dark"&&(v.classList.add("dark-mode"),w.checked=!0);function D(){w.checked?(v.classList.add("dark-mode"),localStorage.setItem("theme","dark")):(v.classList.remove("dark-mode"),localStorage.setItem("theme","light"))}w.addEventListener("change",D);const N=document.querySelector(".burger-btn"),d=document.querySelector(".modal-overlay"),T=document.querySelector(".modal-btn");N.addEventListener("click",()=>{d.classList.add("active"),document.body.style.overflow="hidden"});function p(){d.classList.remove("active"),document.body.style.overflow=""}T.addEventListener("click",p);d.addEventListener("click",e=>{e.target===d&&p()});document.addEventListener("keydown",e=>{e.key==="Escape"&&d.classList.contains("active")&&p()});const R=document.querySelectorAll(".modal-link");R.forEach(e=>{e.addEventListener("click",()=>{p()})});document.addEventListener("DOMContentLoaded",function(){document.querySelector(".projects-list");const e=document.querySelector(".load-more-button"),t=document.querySelector(".load-more-line"),o=Array.from(document.querySelectorAll(".projects-item")),i=3;let s=i;function n(){o.forEach((m,a)=>{a>=s&&m.classList.add("hidden-project")})}function r(){const m=o.slice(s,s+i);m.forEach((a,A)=>{a.classList.remove("hidden-project"),a.style.opacity="0",a.style.transition="opacity 0.3s ease",setTimeout(()=>{a.style.opacity="1"},A*100)}),s+=m.length,s>=o.length&&(e.style.display="none",t.style.display="none")}function O(){n(),s>=o.length&&(e.style.display="none",t.style.display="none"),e.addEventListener("click",r)}O()});const l="/js-team-17/assets/sprite-Ci5rsj_u.svg";new M(".faq-list",{duration:150,showOne:!0,openOnInit:[0],triggerClass:"faq-btn-accordion",onOpen(e){document.querySelectorAll(".faq-item").forEach(o=>{o.classList.remove("ac-active");const i=o.querySelector(".faq-btn-accordion use");i&&i.setAttribute("href",`${l}#icon-faq-down`)});const t=e.closest(".faq-item");if(t){t.classList.add("ac-active");const o=t.querySelector(".faq-btn-accordion use");o&&o.setAttribute("href",`${l}#icon-faq-up`)}},onClose(e){const t=e.closest(".faq-item");if(t){t.classList.remove("ac-active");const o=t.querySelector(".faq-btn-accordion use");o&&o.setAttribute("href",`${l}#icon-faq-down`)}}});document.querySelectorAll(".faq-item").forEach((e,t)=>{const o=e.querySelector(".faq-btn-accordion use");o&&(t===0?(e.classList.add("ac-active"),o.setAttribute("href",`${l}#icon-faq-up`)):o.setAttribute("href",`${l}#icon-faq-down`))});const U=document.querySelectorAll(".faq-item");U.forEach(function(e){e.addEventListener("click",function(t){if(t.preventDefault,!t.target.closest(".faq-btn-accordion")){const o=e.querySelector(".faq-btn-accordion");o&&o.click()}})});const I=document.querySelector(".swiper-wrapper"),g=document.querySelector(".section-reviews");let h=null,E=!1,B=!1,k=!1;const S=document.createDocumentFragment();F();async function F(){try{h=await x()}catch{B=!0}finally{K.observe(g)}}function z(e){e.forEach(({_id:t,author:o,avatar_url:i,review:s})=>{const n=`
      <li class="swiper-slide" data-id="${t}">
        <p class="reviews-item-text">${s}</p>
        <div class="container-reviews-author">
          <img class="reviews-item-img" src="${i}" alt="${o}"/>
          <h3 class="reviews-item-name">${o}</h3>
        </div>
      </li>
      `,r=document.createElement("div");r.insertAdjacentHTML("beforeend",n),S.append(...r.children)}),I.append(S)}function W(){new C(".swiper",{modules:[j,$],navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},spaceBetween:32,slidesPerView:1,slidesPerGroup:1,autoHeight:!0,breakpoints:{1280:{slidesPerView:2,spaceBetween:32}},keyboard:{enabled:!0,onlyInViewport:!0}})}const H={root:null,rootMargin:"1000px",threshold:0},K=new IntersectionObserver(V,H);function V(e,t){e.forEach(o=>{o.isIntersecting&&(h&&!E&&(E=!0,t.unobserve(g),z(h),W()),B&&!k&&(k=!0,t.unobserve(g),Z()))})}function Z(){y.info({title:"Info",message:"Reviews not found!",position:"topRight",backgroundColor:"beige"}),I.innerHTML=`
    <li class="swiper-slide">
    <h3 class="title-error">
      Oops! Looks like the reviews didn’t load. We’re working on it — please check back shortly!
    </h3>
    </li>`;const e=document.querySelector(".swiper-button-prev"),t=document.querySelector(".swiper-button-next");e.disabled=!0,t.disabled=!0,e.style.opacity=.3,t.style.opacity=.3,document.querySelector(".swiper-slide").style.maxWidth="100%"}const f=document.getElementById("contact-form"),u=document.getElementById("success-modal"),_=document.querySelector(".close-modal"),c=document.getElementById("form-email"),b=document.getElementById("email-valid-icon"),L=document.getElementById("email-error");c.addEventListener("input",()=>{/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/.test(c.value.trim())?(c.classList.remove("invalid"),b.classList.add("visible"),L.classList.remove("visible"),c.style.color="var(--main-text-color)"):(c.classList.add("invalid"),b.classList.remove("visible"),L.classList.add("visible"),c.style.color="#e74a3b")});f.addEventListener("submit",async function(e){e.preventDefault();const t=f.elements["form-email"].value.trim(),o=f.elements["user-message"].value.trim();try{(await fetch("https://portfolio-js.b.goit.study/api/requests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,comment:o})})).ok?(f.reset(),b.classList.remove("visible"),L.classList.remove("visible"),c.style.color="var(--main-text-color)",G()):y.warning({title:"Warning",message:"Check the data and try again",position:"topRight",backgroundColor:"#FFB81C",messageColor:"#3B3D40",timeout:5e3,progressBar:!1,close:!0,maxWidth:400,transitionIn:"fadeInDown",transitionOut:"fadeOutUp"})}catch{y.warning({title:"Network error",message:"Try again.",position:"topRight",backgroundColor:"#FFB81C",messageColor:"#3B3D40",timeout:5e3,progressBar:!1,close:!0,transitionIn:"fadeInDown",transitionOut:"fadeOutUp"})}});function G(){u.classList.add("is-open"),document.body.classList.add("modal-open")}function q(){u.classList.remove("is-open"),document.body.classList.remove("modal-open")}_.addEventListener("click",q);u.addEventListener("click",function(e){e.target===u&&q()});document.addEventListener("keydown",function(e){e.key==="Escape"&&u.classList.contains("is-open")&&q()});
//# sourceMappingURL=index.js.map
